{"dependencies":[],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, module, exports, _dependencyMap) {\n  'use strict';\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n  function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\n  function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n  var EventEmitterWithHolding = function () {\n    function EventEmitterWithHolding(emitter, holder) {\n      _classCallCheck(this, EventEmitterWithHolding);\n\n      this._emitter = emitter;\n      this._eventHolder = holder;\n      this._currentEventToken = null;\n      this._emittingHeldEvents = false;\n    }\n\n    _createClass(EventEmitterWithHolding, [{\n      key: \"addListener\",\n      value: function addListener(eventType, listener, context) {\n        return this._emitter.addListener(eventType, listener, context);\n      }\n    }, {\n      key: \"once\",\n      value: function once(eventType, listener, context) {\n        return this._emitter.once(eventType, listener, context);\n      }\n    }, {\n      key: \"addRetroactiveListener\",\n      value: function addRetroactiveListener(eventType, listener, context) {\n        var subscription = this._emitter.addListener(eventType, listener, context);\n\n        this._emittingHeldEvents = true;\n\n        this._eventHolder.emitToListener(eventType, listener, context);\n\n        this._emittingHeldEvents = false;\n        return subscription;\n      }\n    }, {\n      key: \"removeAllListeners\",\n      value: function removeAllListeners(eventType) {\n        this._emitter.removeAllListeners(eventType);\n      }\n    }, {\n      key: \"removeCurrentListener\",\n      value: function removeCurrentListener() {\n        this._emitter.removeCurrentListener();\n      }\n    }, {\n      key: \"listeners\",\n      value: function listeners(eventType) {\n        return this._emitter.listeners(eventType);\n      }\n    }, {\n      key: \"emit\",\n      value: function emit(eventType) {\n        var _this$_emitter;\n\n        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n\n        (_this$_emitter = this._emitter).emit.apply(_this$_emitter, [eventType].concat(args));\n      }\n    }, {\n      key: \"emitAndHold\",\n      value: function emitAndHold(eventType) {\n        var _this$_eventHolder, _this$_emitter2;\n\n        for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n          args[_key2 - 1] = arguments[_key2];\n        }\n\n        this._currentEventToken = (_this$_eventHolder = this._eventHolder).holdEvent.apply(_this$_eventHolder, [eventType].concat(args));\n\n        (_this$_emitter2 = this._emitter).emit.apply(_this$_emitter2, [eventType].concat(args));\n\n        this._currentEventToken = null;\n      }\n    }, {\n      key: \"releaseCurrentEvent\",\n      value: function releaseCurrentEvent() {\n        if (this._currentEventToken) {\n          this._eventHolder.releaseEvent(this._currentEventToken);\n        } else if (this._emittingHeldEvents) {\n          this._eventHolder.releaseCurrentEvent();\n        }\n      }\n    }, {\n      key: \"releaseHeldEventType\",\n      value: function releaseHeldEventType(eventType) {\n        this._eventHolder.releaseEventType(eventType);\n      }\n    }]);\n\n    return EventEmitterWithHolding;\n  }();\n\n  module.exports = EventEmitterWithHolding;\n});","map":[[2,0,11,0],[10,6,29,6,"EventEmitterWithHolding"],[10,29],[11,0,42,2],[11,37,42,14,"emitter"],[11,44,42,2],[11,46,42,37,"holder"],[11,52,42,2],[11,54,42,58],[12,0,42,58],[14,0,43,4],[14,11,43,9,"_emitter"],[14,19,43,4],[14,22,43,20,"emitter"],[14,29,43,4],[15,0,44,4],[15,11,44,9,"_eventHolder"],[15,23,44,4],[15,26,44,24,"holder"],[15,32,44,4],[16,0,45,4],[16,11,45,9,"_currentEventToken"],[16,29,45,4],[16,32,45,30],[16,36,45,4],[17,0,46,4],[17,11,46,9,"_emittingHeldEvents"],[17,30,46,4],[17,33,46,31],[17,38,46,4],[18,0,47,3],[22,34,52,14,"eventType"],[22,43],[22,45,52,33,"listener"],[22,53],[22,55,52,53,"context"],[22,62],[22,64,52,71],[23,0,53,4],[23,15,53,11],[23,20,53,16,"_emitter"],[23,28,53,11],[23,29,53,25,"addListener"],[23,40,53,11],[23,41,53,37,"eventType"],[23,50,53,11],[23,52,53,48,"listener"],[23,60,53,11],[23,62,53,58,"context"],[23,69,53,11],[23,70,53,4],[24,0,54,3],[27,27,59,7,"eventType"],[27,36],[27,38,59,26,"listener"],[27,46],[27,48,59,46,"context"],[27,55],[27,57,59,64],[28,0,60,4],[28,15,60,11],[28,20,60,16,"_emitter"],[28,28,60,11],[28,29,60,25,"once"],[28,33,60,11],[28,34,60,30,"eventType"],[28,43,60,11],[28,45,60,41,"listener"],[28,53,60,11],[28,55,60,51,"context"],[28,62,60,11],[28,63,60,4],[29,0,61,3],[32,45,84,4,"eventType"],[32,54],[32,56,85,4,"listener"],[32,64],[32,66,86,4,"context"],[32,73],[32,75,87,25],[33,0,88,4],[33,12,88,10,"subscription"],[33,27,88,25],[33,32,88,30,"_emitter"],[33,40,88,25],[33,41,88,39,"addListener"],[33,52,88,25],[33,53,89,6,"eventType"],[33,62,88,25],[33,64,90,6,"listener"],[33,72,88,25],[33,74,91,6,"context"],[33,81,88,25],[33,82,88,4],[35,0,94,4],[35,13,94,9,"_emittingHeldEvents"],[35,32,94,4],[35,35,94,31],[35,39,94,4],[37,0,95,4],[37,13,95,9,"_eventHolder"],[37,25,95,4],[37,26,95,22,"emitToListener"],[37,40,95,4],[37,41,95,37,"eventType"],[37,50,95,4],[37,52,95,48,"listener"],[37,60,95,4],[37,62,95,58,"context"],[37,69,95,4],[39,0,96,4],[39,13,96,9,"_emittingHeldEvents"],[39,32,96,4],[39,35,96,31],[39,40,96,4],[40,0,98,4],[40,15,98,11,"subscription"],[40,27,98,4],[41,0,99,3],[44,41,104,21,"eventType"],[44,50],[44,52,104,40],[45,0,105,4],[45,13,105,9,"_emitter"],[45,21,105,4],[45,22,105,18,"removeAllListeners"],[45,40,105,4],[45,41,105,37,"eventType"],[45,50,105,4],[46,0,106,3],[49,46,111,26],[50,0,112,4],[50,13,112,9,"_emitter"],[50,21,112,4],[50,22,112,18,"removeCurrentListener"],[50,43,112,4],[51,0,113,3],[54,32,118,12,"eventType"],[54,41],[54,43,118,69],[55,0,119,4],[55,15,119,11],[55,20,119,16,"_emitter"],[55,28,119,11],[55,29,119,25,"listeners"],[55,38,119,11],[55,39,119,35,"eventType"],[55,48,119,11],[55,49,119,4],[56,0,120,3],[59,27,125,7,"eventType"],[59,36],[59,38,125,40],[60,0,125,40],[62,0,125,40],[62,42,125,29,"args"],[62,46,125,40],[63,0,125,29,"args"],[63,14,125,40],[64,0,125,40],[66,0,126,4],[66,31,126,9,"_emitter"],[66,39,126,4],[66,41,126,18,"emit"],[66,45,126,4],[66,69,126,23,"eventType"],[66,78,126,4],[66,87,126,37,"args"],[66,91,126,4],[67,0,127,3],[70,34,144,14,"eventType"],[70,43],[70,45,144,47],[71,0,144,47],[73,0,144,47],[73,43,144,36,"args"],[73,47,144,47],[74,0,144,36,"args"],[74,14,144,47],[75,0,144,47],[77,0,145,4],[77,13,145,9,"_currentEventToken"],[77,31,145,4],[77,34,145,30],[77,61,145,35,"_eventHolder"],[77,73,145,30],[77,75,145,48,"holdEvent"],[77,84,145,30],[77,112,145,58,"eventType"],[77,121,145,30],[77,130,145,72,"args"],[77,134,145,30],[77,136,145,4],[79,0,146,4],[79,32,146,9,"_emitter"],[79,40,146,4],[79,42,146,18,"emit"],[79,46,146,4],[79,71,146,23,"eventType"],[79,80,146,4],[79,89,146,37,"args"],[79,93,146,4],[81,0,147,4],[81,13,147,9,"_currentEventToken"],[81,31,147,4],[81,34,147,30],[81,38,147,4],[82,0,148,3],[85,44,153,24],[86,0,154,4],[86,12,154,8],[86,17,154,13,"_currentEventToken"],[86,35,154,4],[86,37,154,33],[87,0,155,6],[87,15,155,11,"_eventHolder"],[87,27,155,6],[87,28,155,24,"releaseEvent"],[87,40,155,6],[87,41,155,37],[87,46,155,42,"_currentEventToken"],[87,64,155,6],[88,0,156,5],[88,9,154,4],[88,15,156,11],[88,19,156,15],[88,24,156,20,"_emittingHeldEvents"],[88,43,156,11],[88,45,156,41],[89,0,157,6],[89,15,157,11,"_eventHolder"],[89,27,157,6],[89,28,157,24,"releaseCurrentEvent"],[89,47,157,6],[90,0,158,5],[91,0,159,3],[94,43,165,23,"eventType"],[94,52],[94,54,165,42],[95,0,166,4],[95,13,166,9,"_eventHolder"],[95,25,166,4],[95,26,166,22,"releaseEventType"],[95,42,166,4],[95,43,166,39,"eventType"],[95,52,166,4],[96,0,167,3],[102,0,170,0,"module"],[102,9,170,7,"exports"],[102,16,170,0],[102,19,170,17,"EventEmitterWithHolding"],[102,42,170,0]]},"type":"js/module"}]}