{"dependencies":[{"name":"./ApiUrls","isAsync":false}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n\n  var _ApiUrls = _$$_REQUIRE(_dependencyMap[0], \"./ApiUrls\");\n\n  function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\n  function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n  function ApiError(message, data, status) {\n    var response = null;\n    var isObject = false;\n\n    try {\n      response = JSON.parse(data);\n      isObject = true;\n    } catch (e) {\n      response = data;\n    }\n\n    this.response = response;\n    this.message = message;\n    this.status = status;\n\n    this.toString = function () {\n      return this.message + \"\\nResponse:\\n\" + (isObject ? JSON.stringify(this.response, null, 2) : this.response);\n    };\n  }\n\n  var fetchResource = function fetchResource(path) {\n    var userOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var defaultOptions = {};\n    var defaultHeaders = {};\n\n    var options = _objectSpread({}, defaultOptions, userOptions, {\n      headers: _objectSpread({}, defaultHeaders, userOptions.headers)\n    });\n\n    var url = path;\n    var response = null;\n    return fetch(url, options).then(function (responseObject) {\n      response = responseObject;\n\n      if (response.status === 401) {}\n\n      if (response.status < 200 || response.status >= 300) {\n        return response.text();\n      }\n\n      return response.json();\n    }).then(function (parsedResponse) {\n      if (response.status < 200 || response.status >= 300) {\n        throw parsedResponse;\n      }\n\n      return parsedResponse;\n    }).catch(function (error) {\n      if (response) {\n        throw new ApiError(\"Request failed with status \" + response.status + \".\", error, response.status);\n      } else {\n        throw new ApiError(error.toString(), null, 'REQUEST_FAILED');\n      }\n    });\n  };\n\n  function getUsersList() {\n    return fetchResource(_ApiUrls.getUserList);\n  }\n\n  function signIn(username, password) {\n    return fetchResource('signin', {\n      method: 'POST',\n      body: {\n        username: username,\n        password: password\n      }\n    });\n  }\n\n  function uploadAvatar(userId, file) {\n    return fetchResource(\"users/\" + userId + \"/avatar/\", {\n      method: 'PUT',\n      body: file,\n      headers: {\n        'Content-Type': file.type\n      }\n    });\n  }\n\n  getUsers().then(function (userData) {}).catch(function (error) {});\n  var _default = fetchResource;\n  exports.default = _default;\n});","map":[[7,0,12,0],[13,0,14,0],[13,11,14,9,"ApiError"],[13,19,14,0],[13,20,14,18,"message"],[13,27,14,0],[13,29,14,27,"data"],[13,33,14,0],[13,35,14,33,"status"],[13,41,14,0],[13,43,14,41],[14,0,15,2],[14,8,15,6,"response"],[14,19,15,17],[14,23,15,2],[15,0,16,2],[15,8,16,6,"isObject"],[15,19,16,17],[15,24,16,2],[17,0,19,2],[17,8,19,6],[18,0,20,4,"response"],[18,17,20,15,"JSON"],[18,22,20,20,"parse"],[18,27,20,15],[18,28,20,26,"data"],[18,32,20,15],[18,33,20,4],[19,0,21,4,"isObject"],[19,17,21,15],[19,21,21,4],[20,0,22,3],[20,5,19,2],[20,6,22,4],[20,13,22,11,"e"],[20,14,22,4],[20,16,22,14],[21,0,23,4,"response"],[21,17,23,15,"data"],[21,21,23,4],[22,0,24,3],[24,0,26,2],[24,9,26,7,"response"],[24,17,26,2],[24,20,26,18,"response"],[24,28,26,2],[25,0,27,2],[25,9,27,7,"message"],[25,16,27,2],[25,19,27,17,"message"],[25,26,27,2],[26,0,28,2],[26,9,28,7,"status"],[26,15,28,2],[26,18,28,16,"status"],[26,24,28,2],[28,0,29,2],[28,9,29,7,"toString"],[28,17,29,2],[28,20,29,18],[28,32,29,30],[29,0,30,4],[29,13,30,15],[29,18,30,20,"message"],[29,25,30,4],[29,47,30,45,"isObject"],[29,58,30,56,"JSON"],[29,63,30,61,"stringify"],[29,72,30,56],[29,73,30,71],[29,78,30,76,"response"],[29,86,30,56],[29,88,30,86],[29,92,30,56],[29,94,30,92],[29,95,30,56],[29,96,30,45],[29,99,30,97],[29,104,30,102,"response"],[29,112,30,4],[30,0,31,3],[30,5,29,2],[31,0,32,1],[33,0,35,0],[33,6,35,6,"fetchResource"],[33,22,35,22],[33,31,35,6,"fetchResource"],[33,44,35,22],[33,45,35,23,"path"],[33,49,35,22],[33,51,35,50],[34,0,35,50],[34,8,35,29,"userOptions"],[34,19,35,50],[34,90,35,43],[34,92,35,50],[35,0,37,2],[35,8,37,8,"defaultOptions"],[35,25,37,25],[35,27,37,2],[36,0,39,2],[36,8,39,8,"defaultHeaders"],[36,25,39,25],[36,27,39,2],[38,0,41,2],[38,8,41,8,"options"],[38,36,43,7,"defaultOptions"],[38,50,41,8],[38,52,44,7,"userOptions"],[38,63,41,8],[39,0,46,4,"headers"],[39,33,47,9,"defaultHeaders"],[39,47,46,4],[39,49,48,9,"userOptions"],[39,61,48,21,"headers"],[39,68,46,4],[40,0,41,8],[40,6,41,2],[42,0,53,2],[42,8,53,8,"url"],[42,14,53,14,"path"],[42,18,53,2],[43,0,56,2],[43,8,56,6,"response"],[43,19,56,17],[43,23,56,2],[44,0,58,2],[44,11,58,9,"fetch"],[44,17,58,15,"url"],[44,20,58,9],[44,22,58,20,"options"],[44,29,58,9],[44,31,59,5,"then"],[44,35,58,9],[44,36,59,10],[44,62,59,28],[45,0,61,6,"response"],[45,17,61,17,"responseObject"],[45,31,61,6],[47,0,64,6],[47,10,64,10,"response"],[47,19,64,19,"status"],[47,25,64,10],[47,30,64,30],[47,33,64,6],[47,35,64,35],[47,36,67,7],[49,0,70,6],[49,10,70,10,"response"],[49,19,70,19,"status"],[49,25,70,10],[49,28,70,28],[49,31,70,10],[49,35,70,35,"response"],[49,44,70,44,"status"],[49,50,70,35],[49,54,70,54],[49,57,70,6],[49,59,70,59],[50,0,72,8],[50,15,72,15,"response"],[50,24,72,24,"text"],[50,28,72,15],[50,30,72,8],[51,0,73,7],[53,0,76,6],[53,13,76,13,"response"],[53,22,76,22,"json"],[53,26,76,13],[53,28,76,6],[54,0,77,5],[54,5,58,9],[54,7,80,5,"then"],[54,11,58,9],[54,12,80,10],[54,38,80,28],[55,0,82,6],[55,10,82,10,"response"],[55,19,82,19,"status"],[55,25,82,10],[55,28,82,28],[55,31,82,10],[55,35,82,35,"response"],[55,44,82,44,"status"],[55,50,82,35],[55,54,82,54],[55,57,82,6],[55,59,82,59],[56,0,84,8],[56,14,84,14,"parsedResponse"],[56,28,84,8],[57,0,85,7],[59,0,88,6],[59,13,88,13,"parsedResponse"],[59,27,88,6],[60,0,89,5],[60,5,58,9],[60,7,90,5,"catch"],[60,12,58,9],[60,13,90,11],[60,30,90,20],[61,0,93,6],[61,10,93,10,"response"],[61,18,93,6],[61,20,93,20],[62,0,94,8],[62,14,94,14],[62,18,94,18,"ApiError"],[62,26,94,14],[62,59,94,58,"response"],[62,68,94,67,"status"],[62,74,94,14],[62,82,94,79,"error"],[62,87,94,14],[62,89,94,86,"response"],[62,98,94,95,"status"],[62,104,94,14],[62,105,94,8],[63,0,95,7],[63,7,93,6],[63,13,95,13],[64,0,96,8],[64,14,96,14],[64,18,96,18,"ApiError"],[64,26,96,14],[64,27,96,27,"error"],[64,33,96,33,"toString"],[64,41,96,27],[64,43,96,14],[64,45,96,45],[64,49,96,14],[64,51,96,51],[64,67,96,14],[64,68,96,8],[65,0,97,7],[66,0,98,5],[66,5,58,9],[66,6,58,2],[67,0,99,1],[67,3,35,0],[69,0,102,0],[69,11,102,9,"getUsersList"],[69,23,102,0],[69,26,102,24],[70,0,103,2],[70,11,103,9,"fetchResource"],[70,25,103,23,"getUserList"],[70,45,103,9],[70,46,103,2],[71,0,104,1],[73,0,107,0],[73,11,107,9,"signIn"],[73,17,107,0],[73,18,107,16,"username"],[73,26,107,0],[73,28,107,26,"password"],[73,36,107,0],[73,38,107,36],[74,0,108,2],[74,11,108,9,"fetchResource"],[74,25,108,23],[74,33,108,9],[74,35,108,33],[75,0,109,4,"method"],[75,14,109,12],[75,20,108,33],[76,0,110,4,"body"],[76,12,110,10],[77,0,111,6,"username"],[77,26,110,10],[78,0,112,6,"password"],[79,0,110,10],[80,0,108,33],[80,5,108,9],[80,6,108,2],[81,0,115,1],[83,0,118,0],[83,11,118,9,"uploadAvatar"],[83,23,118,0],[83,24,118,22,"userId"],[83,30,118,0],[83,32,118,30,"file"],[83,36,118,0],[83,38,118,36],[84,0,119,2],[84,11,119,9,"fetchResource"],[84,36,119,33,"userId"],[84,42,119,9],[84,57,119,52],[85,0,120,4,"method"],[85,14,120,12],[85,19,119,52],[86,0,121,4,"body"],[86,12,121,10,"file"],[86,16,119,52],[87,0,122,4,"headers"],[87,15,122,13],[88,0,123,6],[88,24,123,22,"file"],[88,29,123,27,"type"],[89,0,122,13],[90,0,119,52],[90,5,119,9],[90,6,119,2],[91,0,126,1],[93,0,128,0,"getUsers"],[93,13,129,3,"then"],[93,17,128,0],[93,18,129,8],[93,38,129,20],[93,39,131,3],[93,40,128,0],[93,42,132,3,"catch"],[93,47,128,0],[93,48,132,9],[93,65,132,18],[93,66,137,3],[93,67,128,0],[94,17,138,15,"fetchResource"],[94,30]]},"type":"js/module"}]}