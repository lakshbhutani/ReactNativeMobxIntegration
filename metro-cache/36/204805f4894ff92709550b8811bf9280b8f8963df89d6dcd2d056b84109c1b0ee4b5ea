{"dependencies":[{"name":"./ApiUrls","isAsync":false}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n\n  var _ApiUrls = _$$_REQUIRE(_dependencyMap[0], \"./ApiUrls\");\n\n  function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\n  function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n  function ApiError(message, data, status) {\n    var response = null;\n    var isObject = false;\n\n    try {\n      response = JSON.parse(data);\n      isObject = true;\n    } catch (e) {\n      response = data;\n    }\n\n    this.response = response;\n    this.message = message;\n    this.status = status;\n\n    this.toString = function () {\n      return this.message + \"\\nResponse:\\n\" + (isObject ? JSON.stringify(this.response, null, 2) : this.response);\n    };\n  }\n\n  var fetchResource = function fetchResource(path) {\n    var userOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var defaultOptions = {};\n    var defaultHeaders = {};\n\n    var options = _objectSpread({}, defaultOptions, userOptions, {\n      headers: _objectSpread({}, defaultHeaders, userOptions.headers)\n    });\n\n    console.log(options);\n    var url = path;\n    var response = null;\n    return fetch(url, options).then(function (responseObject) {\n      response = responseObject;\n\n      if (response.status === 401) {}\n\n      if (response.status < 200 || response.status >= 300) {\n        return response.text();\n      }\n\n      return response.json();\n    }).then(function (parsedResponse) {\n      console.log(parsedResponse);\n\n      if (response.status < 200 || response.status >= 300) {\n        throw parsedResponse;\n      }\n\n      return parsedResponse;\n    }).catch(function (error) {\n      if (response) {\n        throw new ApiError(\"Request failed with status \" + response.status + \".\", error, response.status);\n      } else {\n        throw new ApiError(error.toString(), null, 'REQUEST_FAILED');\n      }\n    });\n  };\n\n  function getUsersList(token) {\n    return fetchResource(_ApiUrls.getUserList, {\n      method: 'GET',\n      headers: {\n        \"x-access-token\": token\n      }\n    });\n  }\n\n  function signIn(username, password) {\n    return fetchResource('signin', {\n      method: 'POST',\n      body: {\n        username: username,\n        password: password\n      }\n    });\n  }\n\n  function uploadAvatar(userId, file) {\n    return fetchResource(\"users/\" + userId + \"/avatar/\", {\n      method: 'PUT',\n      body: file,\n      headers: {\n        'Content-Type': file.type\n      }\n    });\n  }\n\n  var _default = fetchResource;\n  exports.default = _default;\n});","map":[[7,0,1,0],[13,0,3,0],[13,11,3,9,"ApiError"],[13,19,3,0],[13,20,3,18,"message"],[13,27,3,0],[13,29,3,27,"data"],[13,33,3,0],[13,35,3,33,"status"],[13,41,3,0],[13,43,3,41],[14,0,4,2],[14,8,4,6,"response"],[14,19,4,17],[14,23,4,2],[15,0,5,2],[15,8,5,6,"isObject"],[15,19,5,17],[15,24,5,2],[17,0,8,2],[17,8,8,6],[18,0,9,4,"response"],[18,17,9,15,"JSON"],[18,22,9,20,"parse"],[18,27,9,15],[18,28,9,26,"data"],[18,32,9,15],[18,33,9,4],[19,0,10,4,"isObject"],[19,17,10,15],[19,21,10,4],[20,0,11,3],[20,5,8,2],[20,6,11,4],[20,13,11,11,"e"],[20,14,11,4],[20,16,11,14],[21,0,12,4,"response"],[21,17,12,15,"data"],[21,21,12,4],[22,0,13,3],[24,0,15,2],[24,9,15,7,"response"],[24,17,15,2],[24,20,15,18,"response"],[24,28,15,2],[25,0,16,2],[25,9,16,7,"message"],[25,16,16,2],[25,19,16,17,"message"],[25,26,16,2],[26,0,17,2],[26,9,17,7,"status"],[26,15,17,2],[26,18,17,16,"status"],[26,24,17,2],[28,0,18,2],[28,9,18,7,"toString"],[28,17,18,2],[28,20,18,18],[28,32,18,30],[29,0,19,4],[29,13,19,15],[29,18,19,20,"message"],[29,25,19,4],[29,47,19,45,"isObject"],[29,58,19,56,"JSON"],[29,63,19,61,"stringify"],[29,72,19,56],[29,73,19,71],[29,78,19,76,"response"],[29,86,19,56],[29,88,19,86],[29,92,19,56],[29,94,19,92],[29,95,19,56],[29,96,19,45],[29,99,19,97],[29,104,19,102,"response"],[29,112,19,4],[30,0,20,3],[30,5,18,2],[31,0,21,1],[33,0,24,0],[33,6,24,6,"fetchResource"],[33,22,24,22],[33,31,24,6,"fetchResource"],[33,44,24,22],[33,45,24,23,"path"],[33,49,24,22],[33,51,24,50],[34,0,24,50],[34,8,24,29,"userOptions"],[34,19,24,50],[34,90,24,43],[34,92,24,50],[35,0,26,2],[35,8,26,8,"defaultOptions"],[35,25,26,25],[35,27,26,2],[36,0,28,2],[36,8,28,8,"defaultHeaders"],[36,25,28,25],[36,27,28,2],[38,0,30,2],[38,8,30,8,"options"],[38,36,32,7,"defaultOptions"],[38,50,30,8],[38,52,33,7,"userOptions"],[38,63,30,8],[39,0,35,4,"headers"],[39,33,36,9,"defaultHeaders"],[39,47,35,4],[39,49,37,9,"userOptions"],[39,61,37,21,"headers"],[39,68,35,4],[40,0,30,8],[40,6,30,2],[42,0,40,2,"console"],[42,12,40,10,"log"],[42,15,40,2],[42,16,40,14,"options"],[42,23,40,2],[43,0,42,2],[43,8,42,8,"url"],[43,14,42,14,"path"],[43,18,42,2],[44,0,45,2],[44,8,45,6,"response"],[44,19,45,17],[44,23,45,2],[45,0,47,2],[45,11,47,9,"fetch"],[45,17,47,15,"url"],[45,20,47,9],[45,22,47,20,"options"],[45,29,47,9],[45,31,48,5,"then"],[45,35,47,9],[45,36,48,10],[45,62,48,28],[46,0,50,6,"response"],[46,17,50,17,"responseObject"],[46,31,50,6],[48,0,53,6],[48,10,53,10,"response"],[48,19,53,19,"status"],[48,25,53,10],[48,30,53,30],[48,33,53,6],[48,35,53,35],[48,36,56,7],[50,0,59,6],[50,10,59,10,"response"],[50,19,59,19,"status"],[50,25,59,10],[50,28,59,28],[50,31,59,10],[50,35,59,35,"response"],[50,44,59,44,"status"],[50,50,59,35],[50,54,59,54],[50,57,59,6],[50,59,59,59],[51,0,61,8],[51,15,61,15,"response"],[51,24,61,24,"text"],[51,28,61,15],[51,30,61,8],[52,0,62,7],[54,0,65,6],[54,13,65,13,"response"],[54,22,65,22,"json"],[54,26,65,13],[54,28,65,6],[55,0,66,5],[55,5,47,9],[55,7,69,5,"then"],[55,11,47,9],[55,12,69,10],[55,38,69,28],[56,0,71,6,"console"],[56,14,71,14,"log"],[56,17,71,6],[56,18,71,18,"parsedResponse"],[56,32,71,6],[58,0,72,6],[58,10,72,10,"response"],[58,19,72,19,"status"],[58,25,72,10],[58,28,72,28],[58,31,72,10],[58,35,72,35,"response"],[58,44,72,44,"status"],[58,50,72,35],[58,54,72,54],[58,57,72,6],[58,59,72,59],[59,0,74,8],[59,14,74,14,"parsedResponse"],[59,28,74,8],[60,0,75,7],[62,0,78,6],[62,13,78,13,"parsedResponse"],[62,27,78,6],[63,0,79,5],[63,5,47,9],[63,7,80,5,"catch"],[63,12,47,9],[63,13,80,11],[63,30,80,20],[64,0,83,6],[64,10,83,10,"response"],[64,18,83,6],[64,20,83,20],[65,0,84,8],[65,14,84,14],[65,18,84,18,"ApiError"],[65,26,84,14],[65,59,84,58,"response"],[65,68,84,67,"status"],[65,74,84,14],[65,82,84,79,"error"],[65,87,84,14],[65,89,84,86,"response"],[65,98,84,95,"status"],[65,104,84,14],[65,105,84,8],[66,0,85,7],[66,7,83,6],[66,13,85,13],[67,0,86,8],[67,14,86,14],[67,18,86,18,"ApiError"],[67,26,86,14],[67,27,86,27,"error"],[67,33,86,33,"toString"],[67,41,86,27],[67,43,86,14],[67,45,86,45],[67,49,86,14],[67,51,86,51],[67,67,86,14],[67,68,86,8],[68,0,87,7],[69,0,88,5],[69,5,47,9],[69,6,47,2],[70,0,89,1],[70,3,24,0],[72,0,92,0],[72,11,92,9,"getUsersList"],[72,23,92,0],[72,24,92,22,"token"],[72,29,92,0],[72,31,92,29],[73,0,93,2],[73,11,93,9,"fetchResource"],[73,25,93,23,"getUserList"],[73,45,93,9],[73,47,93,36],[74,0,94,4,"method"],[74,14,94,13],[74,19,93,36],[75,0,95,4,"headers"],[75,15,95,14],[76,0,96,6],[76,26,96,25,"token"],[77,0,95,14],[78,0,93,36],[78,5,93,9],[78,6,93,2],[79,0,99,1],[81,0,102,0],[81,11,102,9,"signIn"],[81,17,102,0],[81,18,102,16,"username"],[81,26,102,0],[81,28,102,26,"password"],[81,36,102,0],[81,38,102,36],[82,0,103,2],[82,11,103,9,"fetchResource"],[82,25,103,23],[82,33,103,9],[82,35,103,33],[83,0,104,4,"method"],[83,14,104,12],[83,20,103,33],[84,0,105,4,"body"],[84,12,105,10],[85,0,106,6,"username"],[85,26,105,10],[86,0,107,6,"password"],[87,0,105,10],[88,0,103,33],[88,5,103,9],[88,6,103,2],[89,0,110,1],[91,0,113,0],[91,11,113,9,"uploadAvatar"],[91,23,113,0],[91,24,113,22,"userId"],[91,30,113,0],[91,32,113,30,"file"],[91,36,113,0],[91,38,113,36],[92,0,114,2],[92,11,114,9,"fetchResource"],[92,36,114,33,"userId"],[92,42,114,9],[92,57,114,52],[93,0,115,4,"method"],[93,14,115,12],[93,19,114,52],[94,0,116,4,"body"],[94,12,116,10,"file"],[94,16,114,52],[95,0,117,4,"headers"],[95,15,117,13],[96,0,118,6],[96,24,118,22,"file"],[96,29,118,27,"type"],[97,0,117,13],[98,0,114,52],[98,5,114,9],[98,6,114,2],[99,0,121,1],[101,17,133,15,"fetchResource"],[101,30]]},"type":"js/module"}]}