{"dependencies":[{"name":"./ApiUrls","isAsync":false}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n\n  var _ApiUrls = _$$_REQUIRE(_dependencyMap[0], \"./ApiUrls\");\n\n  function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\n  function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n  function ApiError(message, data, status) {\n    var response = null;\n    var isObject = false;\n\n    try {\n      response = JSON.parse(data);\n      isObject = true;\n    } catch (e) {\n      response = data;\n    }\n\n    this.response = response;\n    this.message = message;\n    this.status = status;\n\n    this.toString = function () {\n      return this.message + \"\\nResponse:\\n\" + (isObject ? JSON.stringify(this.response, null, 2) : this.response);\n    };\n  }\n\n  var fetchResource = function fetchResource(path) {\n    var userOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var defaultOptions = {};\n    var defaultHeaders = {};\n\n    var options = _objectSpread({}, defaultOptions, userOptions, {\n      headers: _objectSpread({}, defaultHeaders, userOptions.headers)\n    });\n\n    var url = API_URL + \"/\" + path;\n    var isFile = options.body instanceof File;\n\n    if (options.body && typeof options.body === 'object' && !isFile) {\n      options.body = JSON.stringify(options.body);\n    }\n\n    var response = null;\n    return fetch(url, options).then(function (responseObject) {\n      response = responseObject;\n\n      if (response.status === 401) {}\n\n      if (response.status < 200 || response.status >= 300) {\n        return response.text();\n      }\n\n      return response.json();\n    }).then(function (parsedResponse) {\n      if (response.status < 200 || response.status >= 300) {\n        throw parsedResponse;\n      }\n\n      return parsedResponse;\n    }).catch(function (error) {\n      if (response) {\n        throw new ApiError(\"Request failed with status \" + response.status + \".\", error, response.status);\n      } else {\n        throw new ApiError(error.toString(), null, 'REQUEST_FAILED');\n      }\n    });\n  };\n\n  function getUsers() {\n    return fetchResource('users');\n  }\n\n  function signIn(username, password) {\n    return fetchResource('signin', {\n      method: 'POST',\n      body: {\n        username: username,\n        password: password\n      }\n    });\n  }\n\n  function uploadAvatar(userId, file) {\n    return fetchResource(\"users/\" + userId + \"/avatar/\", {\n      method: 'PUT',\n      body: file,\n      headers: {\n        'Content-Type': file.type\n      }\n    });\n  }\n\n  getUsers().then(function (userData) {}).catch(function (error) {});\n  var _default = fetchResource;\n  exports.default = _default;\n});","map":[[7,0,12,0],[13,0,14,0],[13,11,14,9,"ApiError"],[13,19,14,0],[13,20,14,18,"message"],[13,27,14,0],[13,29,14,27,"data"],[13,33,14,0],[13,35,14,33,"status"],[13,41,14,0],[13,43,14,41],[14,0,15,2],[14,8,15,6,"response"],[14,19,15,17],[14,23,15,2],[15,0,16,2],[15,8,16,6,"isObject"],[15,19,16,17],[15,24,16,2],[17,0,19,2],[17,8,19,6],[18,0,20,4,"response"],[18,17,20,15,"JSON"],[18,22,20,20,"parse"],[18,27,20,15],[18,28,20,26,"data"],[18,32,20,15],[18,33,20,4],[19,0,21,4,"isObject"],[19,17,21,15],[19,21,21,4],[20,0,22,3],[20,5,19,2],[20,6,22,4],[20,13,22,11,"e"],[20,14,22,4],[20,16,22,14],[21,0,23,4,"response"],[21,17,23,15,"data"],[21,21,23,4],[22,0,24,3],[24,0,26,2],[24,9,26,7,"response"],[24,17,26,2],[24,20,26,18,"response"],[24,28,26,2],[25,0,27,2],[25,9,27,7,"message"],[25,16,27,2],[25,19,27,17,"message"],[25,26,27,2],[26,0,28,2],[26,9,28,7,"status"],[26,15,28,2],[26,18,28,16,"status"],[26,24,28,2],[28,0,29,2],[28,9,29,7,"toString"],[28,17,29,2],[28,20,29,18],[28,32,29,30],[29,0,30,4],[29,13,30,15],[29,18,30,20,"message"],[29,25,30,4],[29,47,30,45,"isObject"],[29,58,30,56,"JSON"],[29,63,30,61,"stringify"],[29,72,30,56],[29,73,30,71],[29,78,30,76,"response"],[29,86,30,56],[29,88,30,86],[29,92,30,56],[29,94,30,92],[29,95,30,56],[29,96,30,45],[29,99,30,97],[29,104,30,102,"response"],[29,112,30,4],[30,0,31,3],[30,5,29,2],[31,0,32,1],[33,0,35,0],[33,6,35,6,"fetchResource"],[33,22,35,22],[33,31,35,6,"fetchResource"],[33,44,35,22],[33,45,35,23,"path"],[33,49,35,22],[33,51,35,50],[34,0,35,50],[34,8,35,29,"userOptions"],[34,19,35,50],[34,90,35,43],[34,92,35,50],[35,0,37,2],[35,8,37,8,"defaultOptions"],[35,25,37,25],[35,27,37,2],[36,0,39,2],[36,8,39,8,"defaultHeaders"],[36,25,39,25],[36,27,39,2],[38,0,41,2],[38,8,41,8,"options"],[38,36,43,7,"defaultOptions"],[38,50,41,8],[38,52,44,7,"userOptions"],[38,63,41,8],[39,0,46,4,"headers"],[39,33,47,9,"defaultHeaders"],[39,47,46,4],[39,49,48,9,"userOptions"],[39,61,48,21,"headers"],[39,68,46,4],[40,0,41,8],[40,6,41,2],[42,0,53,2],[42,8,53,8,"url"],[42,14,53,18,"API_URL"],[42,21,53,8],[42,30,53,31,"path"],[42,34,53,2],[43,0,56,2],[43,8,56,8,"isFile"],[43,17,56,17,"options"],[43,25,56,25,"body"],[43,29,56,17],[43,41,56,41,"File"],[43,45,56,2],[45,0,60,2],[45,8,60,6,"options"],[45,16,60,14,"body"],[45,20,60,6],[45,24,60,22],[45,31,60,29,"options"],[45,39,60,37,"body"],[45,43,60,22],[45,48,60,46],[45,56,60,6],[45,60,60,58],[45,61,60,59,"isFile"],[45,67,60,2],[45,69,60,67],[46,0,61,4,"options"],[46,14,61,12,"body"],[46,18,61,4],[46,21,61,19,"JSON"],[46,26,61,24,"stringify"],[46,35,61,19],[46,36,61,34,"options"],[46,44,61,42,"body"],[46,48,61,19],[46,49,61,4],[47,0,62,3],[49,0,65,2],[49,8,65,6,"response"],[49,19,65,17],[49,23,65,2],[50,0,67,2],[50,11,67,9,"fetch"],[50,17,67,15,"url"],[50,20,67,9],[50,22,67,20,"options"],[50,29,67,9],[50,31,68,5,"then"],[50,35,67,9],[50,36,68,10],[50,62,68,28],[51,0,70,6,"response"],[51,17,70,17,"responseObject"],[51,31,70,6],[53,0,73,6],[53,10,73,10,"response"],[53,19,73,19,"status"],[53,25,73,10],[53,30,73,30],[53,33,73,6],[53,35,73,35],[53,36,76,7],[55,0,79,6],[55,10,79,10,"response"],[55,19,79,19,"status"],[55,25,79,10],[55,28,79,28],[55,31,79,10],[55,35,79,35,"response"],[55,44,79,44,"status"],[55,50,79,35],[55,54,79,54],[55,57,79,6],[55,59,79,59],[56,0,81,8],[56,15,81,15,"response"],[56,24,81,24,"text"],[56,28,81,15],[56,30,81,8],[57,0,82,7],[59,0,85,6],[59,13,85,13,"response"],[59,22,85,22,"json"],[59,26,85,13],[59,28,85,6],[60,0,86,5],[60,5,67,9],[60,7,89,5,"then"],[60,11,67,9],[60,12,89,10],[60,38,89,28],[61,0,91,6],[61,10,91,10,"response"],[61,19,91,19,"status"],[61,25,91,10],[61,28,91,28],[61,31,91,10],[61,35,91,35,"response"],[61,44,91,44,"status"],[61,50,91,35],[61,54,91,54],[61,57,91,6],[61,59,91,59],[62,0,93,8],[62,14,93,14,"parsedResponse"],[62,28,93,8],[63,0,94,7],[65,0,97,6],[65,13,97,13,"parsedResponse"],[65,27,97,6],[66,0,98,5],[66,5,67,9],[66,7,99,5,"catch"],[66,12,67,9],[66,13,99,11],[66,30,99,20],[67,0,102,6],[67,10,102,10,"response"],[67,18,102,6],[67,20,102,20],[68,0,103,8],[68,14,103,14],[68,18,103,18,"ApiError"],[68,26,103,14],[68,59,103,58,"response"],[68,68,103,67,"status"],[68,74,103,14],[68,82,103,79,"error"],[68,87,103,14],[68,89,103,86,"response"],[68,98,103,95,"status"],[68,104,103,14],[68,105,103,8],[69,0,104,7],[69,7,102,6],[69,13,104,13],[70,0,105,8],[70,14,105,14],[70,18,105,18,"ApiError"],[70,26,105,14],[70,27,105,27,"error"],[70,33,105,33,"toString"],[70,41,105,27],[70,43,105,14],[70,45,105,45],[70,49,105,14],[70,51,105,51],[70,67,105,14],[70,68,105,8],[71,0,106,7],[72,0,107,5],[72,5,67,9],[72,6,67,2],[73,0,108,1],[73,3,35,0],[75,0,111,0],[75,11,111,9,"getUsers"],[75,19,111,0],[75,22,111,20],[76,0,112,2],[76,11,112,9,"fetchResource"],[76,25,112,23],[76,32,112,9],[76,33,112,2],[77,0,113,1],[79,0,116,0],[79,11,116,9,"signIn"],[79,17,116,0],[79,18,116,16,"username"],[79,26,116,0],[79,28,116,26,"password"],[79,36,116,0],[79,38,116,36],[80,0,117,2],[80,11,117,9,"fetchResource"],[80,25,117,23],[80,33,117,9],[80,35,117,33],[81,0,118,4,"method"],[81,14,118,12],[81,20,117,33],[82,0,119,4,"body"],[82,12,119,10],[83,0,120,6,"username"],[83,26,119,10],[84,0,121,6,"password"],[85,0,119,10],[86,0,117,33],[86,5,117,9],[86,6,117,2],[87,0,124,1],[89,0,127,0],[89,11,127,9,"uploadAvatar"],[89,23,127,0],[89,24,127,22,"userId"],[89,30,127,0],[89,32,127,30,"file"],[89,36,127,0],[89,38,127,36],[90,0,128,2],[90,11,128,9,"fetchResource"],[90,36,128,33,"userId"],[90,42,128,9],[90,57,128,52],[91,0,129,4,"method"],[91,14,129,12],[91,19,128,52],[92,0,130,4,"body"],[92,12,130,10,"file"],[92,16,128,52],[93,0,131,4,"headers"],[93,15,131,13],[94,0,132,6],[94,24,132,22,"file"],[94,29,132,27,"type"],[95,0,131,13],[96,0,128,52],[96,5,128,9],[96,6,128,2],[97,0,135,1],[99,0,137,0,"getUsers"],[99,13,138,3,"then"],[99,17,137,0],[99,18,138,8],[99,38,138,20],[99,39,140,3],[99,40,137,0],[99,42,141,3,"catch"],[99,47,137,0],[99,48,141,9],[99,65,141,18],[99,66,146,3],[99,67,137,0],[100,17,147,15,"fetchResource"],[100,30]]},"type":"js/module"}]}