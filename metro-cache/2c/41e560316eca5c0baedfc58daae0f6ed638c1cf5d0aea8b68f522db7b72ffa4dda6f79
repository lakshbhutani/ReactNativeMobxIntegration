{"dependencies":[{"name":"event-target-shim","isAsync":false},{"name":"Blob","isAsync":false},{"name":"NativeModules","isAsync":false}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, module, exports, _dependencyMap) {\n  'use strict';\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } _setPrototypeOf(subClass.prototype, superClass && superClass.prototype); if (superClass) _setPrototypeOf(subClass, superClass); }\n\n  function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n  function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\n  function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n  function _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\n  function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\n  function _getPrototypeOf(o) { _getPrototypeOf = Object.getPrototypeOf || function _getPrototypeOf(o) { return o.__proto__; }; return _getPrototypeOf(o); }\n\n  var EventTarget = _$$_REQUIRE(_dependencyMap[0], 'event-target-shim');\n\n  var Blob = _$$_REQUIRE(_dependencyMap[1], 'Blob');\n\n  var _require = _$$_REQUIRE(_dependencyMap[2], 'NativeModules'),\n      FileReaderModule = _require.FileReaderModule;\n\n  var READER_EVENTS = ['abort', 'error', 'load', 'loadstart', 'loadend', 'progress'];\n  var EMPTY = 0;\n  var LOADING = 1;\n  var DONE = 2;\n\n  var FileReader = function (_EventTarget) {\n    function FileReader() {\n      var _this;\n\n      _classCallCheck(this, FileReader);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(FileReader).call(this));\n      _this.EMPTY = EMPTY;\n      _this.LOADING = LOADING;\n      _this.DONE = DONE;\n      _this._aborted = false;\n      _this._subscriptions = [];\n\n      _this._reset();\n\n      return _this;\n    }\n\n    _createClass(FileReader, [{\n      key: \"_reset\",\n      value: function _reset() {\n        this._readyState = EMPTY;\n        this._error = null;\n        this._result = null;\n      }\n    }, {\n      key: \"_clearSubscriptions\",\n      value: function _clearSubscriptions() {\n        this._subscriptions.forEach(function (sub) {\n          return sub.remove();\n        });\n\n        this._subscriptions = [];\n      }\n    }, {\n      key: \"_setReadyState\",\n      value: function _setReadyState(newState) {\n        this._readyState = newState;\n        this.dispatchEvent({\n          type: 'readystatechange'\n        });\n\n        if (newState === DONE) {\n          if (this._aborted) {\n            this.dispatchEvent({\n              type: 'abort'\n            });\n          } else if (this._error) {\n            this.dispatchEvent({\n              type: 'error'\n            });\n          } else {\n            this.dispatchEvent({\n              type: 'load'\n            });\n          }\n\n          this.dispatchEvent({\n            type: 'loadend'\n          });\n        }\n      }\n    }, {\n      key: \"readAsArrayBuffer\",\n      value: function readAsArrayBuffer() {\n        throw new Error('FileReader.readAsArrayBuffer is not implemented');\n      }\n    }, {\n      key: \"readAsDataURL\",\n      value: function readAsDataURL(blob) {\n        var _this2 = this;\n\n        this._aborted = false;\n        FileReaderModule.readAsDataURL(blob.data).then(function (text) {\n          if (_this2._aborted) {\n            return;\n          }\n\n          _this2._result = text;\n\n          _this2._setReadyState(DONE);\n        }, function (error) {\n          if (_this2._aborted) {\n            return;\n          }\n\n          _this2._error = error;\n\n          _this2._setReadyState(DONE);\n        });\n      }\n    }, {\n      key: \"readAsText\",\n      value: function readAsText(blob) {\n        var _this3 = this;\n\n        var encoding = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'UTF-8';\n        this._aborted = false;\n        FileReaderModule.readAsText(blob.data, encoding).then(function (text) {\n          if (_this3._aborted) {\n            return;\n          }\n\n          _this3._result = text;\n\n          _this3._setReadyState(DONE);\n        }, function (error) {\n          if (_this3._aborted) {\n            return;\n          }\n\n          _this3._error = error;\n\n          _this3._setReadyState(DONE);\n        });\n      }\n    }, {\n      key: \"abort\",\n      value: function abort() {\n        this._aborted = true;\n\n        if (this._readyState !== EMPTY && this._readyState !== DONE) {\n          this._reset();\n\n          this._setReadyState(DONE);\n        }\n\n        this._reset();\n      }\n    }, {\n      key: \"readyState\",\n      get: function get() {\n        return this._readyState;\n      }\n    }, {\n      key: \"error\",\n      get: function get() {\n        return this._error;\n      }\n    }, {\n      key: \"result\",\n      get: function get() {\n        return this._result;\n      }\n    }]);\n\n    _inherits(FileReader, _EventTarget);\n\n    return FileReader;\n  }(EventTarget.apply(void 0, READER_EVENTS));\n\n  FileReader.EMPTY = EMPTY;\n  FileReader.LOADING = LOADING;\n  FileReader.DONE = DONE;\n  module.exports = FileReader;\n});","map":[[2,0,11,0],[20,0,13,0],[20,6,13,6,"EventTarget"],[20,20,13,20,"require"],[20,51,13,28],[20,70,13,20],[20,71,13,0],[22,0,14,0],[22,6,14,6,"Blob"],[22,13,14,13,"require"],[22,44,14,21],[22,50,14,13],[22,51,14,0],[24,17,15,27,"require"],[24,48,15,35],[24,63,15,27],[24,64],[25,6,15,7,"FileReaderModule"],[25,22],[25,34,15,7,"FileReaderModule"],[25,50],[27,0,24,0],[27,6,24,6,"READER_EVENTS"],[27,22,24,22],[27,23,25,2],[27,30,24,22],[27,32,26,2],[27,39,24,22],[27,41,27,2],[27,47,24,22],[27,49,28,2],[27,60,24,22],[27,62,29,2],[27,71,24,22],[27,73,30,2],[27,83,24,22],[27,84,24,0],[28,0,33,0],[28,6,33,6,"EMPTY"],[28,14,33,14],[28,15,33,0],[29,0,34,0],[29,6,34,6,"LOADING"],[29,16,34,16],[29,17,34,0],[30,0,35,0],[30,6,35,6,"DONE"],[30,13,35,13],[30,14,35,0],[32,6,37,6,"FileReader"],[32,16],[33,0,52,2],[33,26,52,16],[34,0,52,16],[36,0,52,16],[38,0,53,4],[39,0,52,16],[39,12,42,2,"EMPTY"],[39,17,52,16],[39,20,42,10,"EMPTY"],[39,25,52,16],[40,0,52,16],[40,12,43,2,"LOADING"],[40,19,52,16],[40,22,43,12,"LOADING"],[40,29,52,16],[41,0,52,16],[41,12,44,2,"DONE"],[41,16,52,16],[41,19,44,9,"DONE"],[41,23,52,16],[42,0,52,16],[42,12,49,2,"_aborted"],[42,20,52,16],[42,23,49,22],[42,28,52,16],[43,0,52,16],[43,12,50,2,"_subscriptions"],[43,26,52,16],[43,29,50,29],[43,31,52,16],[45,0,54,4],[45,12,54,9,"_reset"],[45,18,54,4],[47,0,52,16],[48,0,55,3],[52,31,57,17],[53,0,58,4],[53,13,58,9,"_readyState"],[53,24,58,4],[53,27,58,23,"EMPTY"],[53,32,58,4],[54,0,59,4],[54,13,59,9,"_error"],[54,19,59,4],[54,22,59,18],[54,26,59,4],[55,0,60,4],[55,13,60,9,"_result"],[55,20,60,4],[55,23,60,19],[55,27,60,4],[56,0,61,3],[59,44,63,30],[60,0,64,4],[60,13,64,9,"_subscriptions"],[60,27,64,4],[60,28,64,24,"forEach"],[60,35,64,4],[60,36,64,32],[61,0,64,32],[61,17,64,39,"sub"],[61,21,64,43,"remove"],[61,27,64,39],[61,29,64,32],[62,0,64,32],[62,9,64,4],[64,0,65,4],[64,13,65,9,"_subscriptions"],[64,27,65,4],[64,30,65,26],[64,32,65,4],[65,0,66,3],[68,37,68,17,"newState"],[68,45],[68,47,68,39],[69,0,69,4],[69,13,69,9,"_readyState"],[69,24,69,4],[69,27,69,23,"newState"],[69,35,69,4],[70,0,70,4],[70,13,70,9,"dispatchEvent"],[70,26,70,4],[70,27,70,23],[71,0,70,24,"type"],[71,16,70,30],[72,0,70,23],[72,9,70,4],[74,0,71,4],[74,12,71,8,"newState"],[74,25,71,21,"DONE"],[74,29,71,4],[74,31,71,27],[75,0,72,6],[75,14,72,10],[75,19,72,15,"_aborted"],[75,27,72,6],[75,29,72,25],[76,0,73,8],[76,17,73,13,"dispatchEvent"],[76,30,73,8],[76,31,73,27],[77,0,73,28,"type"],[77,20,73,34],[78,0,73,27],[78,13,73,8],[79,0,74,7],[79,11,72,6],[79,17,74,13],[79,21,74,17],[79,26,74,22,"_error"],[79,32,74,13],[79,34,74,30],[80,0,75,8],[80,17,75,13,"dispatchEvent"],[80,30,75,8],[80,31,75,27],[81,0,75,28,"type"],[81,20,75,34],[82,0,75,27],[82,13,75,8],[83,0,76,7],[83,11,74,13],[83,17,76,13],[84,0,77,8],[84,17,77,13,"dispatchEvent"],[84,30,77,8],[84,31,77,27],[85,0,77,28,"type"],[85,20,77,34],[86,0,77,27],[86,13,77,8],[87,0,78,7],[89,0,79,6],[89,15,79,11,"dispatchEvent"],[89,28,79,6],[89,29,79,25],[90,0,79,26,"type"],[90,18,79,32],[91,0,79,25],[91,11,79,6],[92,0,80,5],[93,0,81,3],[96,42,83,22],[97,0,84,4],[97,14,84,10],[97,18,84,14,"Error"],[97,23,84,10],[97,24,84,20],[97,73,84,10],[97,74,84,4],[98,0,85,3],[101,36,87,16,"blob"],[101,40],[101,42,87,28],[102,0,87,28],[104,0,88,4],[104,13,88,9,"_aborted"],[104,21,88,4],[104,24,88,20],[104,29,88,4],[105,0,90,4,"FileReaderModule"],[105,25,90,21,"readAsDataURL"],[105,38,90,4],[105,39,90,35,"blob"],[105,44,90,40,"data"],[105,48,90,4],[105,50,90,46,"then"],[105,54,90,4],[105,55,91,6],[105,65,91,7,"text"],[105,69,91,6],[105,71,91,24],[106,0,92,8],[106,14,92,12],[106,21,92,17,"_aborted"],[106,29,92,8],[106,31,92,27],[107,0,93,10],[108,0,94,9],[110,0,95,8],[110,17,95,13,"_result"],[110,24,95,8],[110,27,95,23,"text"],[110,31,95,8],[112,0,96,8],[112,17,96,13,"_setReadyState"],[112,31,96,8],[112,32,96,28,"DONE"],[112,36,96,8],[113,0,97,7],[113,9,90,4],[113,11,98,6],[113,28,98,15],[114,0,99,8],[114,14,99,12],[114,21,99,17,"_aborted"],[114,29,99,8],[114,31,99,27],[115,0,100,10],[116,0,101,9],[118,0,102,8],[118,17,102,13,"_error"],[118,23,102,8],[118,26,102,22,"error"],[118,31,102,8],[120,0,103,8],[120,17,103,13,"_setReadyState"],[120,31,103,8],[120,32,103,28,"DONE"],[120,36,103,8],[121,0,104,7],[121,9,90,4],[122,0,106,3],[125,33,108,13,"blob"],[125,37],[125,39,108,53],[126,0,108,53],[128,0,108,53],[128,12,108,25,"encoding"],[128,20,108,53],[128,91,108,44],[128,98,108,53],[129,0,109,4],[129,13,109,9,"_aborted"],[129,21,109,4],[129,24,109,20],[129,29,109,4],[130,0,111,4,"FileReaderModule"],[130,25,111,21,"readAsText"],[130,35,111,4],[130,36,111,32,"blob"],[130,41,111,37,"data"],[130,45,111,4],[130,47,111,43,"encoding"],[130,55,111,4],[130,57,111,53,"then"],[130,61,111,4],[130,62,112,6],[130,72,112,7,"text"],[130,76,112,6],[130,78,112,24],[131,0,113,8],[131,14,113,12],[131,21,113,17,"_aborted"],[131,29,113,8],[131,31,113,27],[132,0,114,10],[133,0,115,9],[135,0,116,8],[135,17,116,13,"_result"],[135,24,116,8],[135,27,116,23,"text"],[135,31,116,8],[137,0,117,8],[137,17,117,13,"_setReadyState"],[137,31,117,8],[137,32,117,28,"DONE"],[137,36,117,8],[138,0,118,7],[138,9,111,4],[138,11,119,6],[138,28,119,15],[139,0,120,8],[139,14,120,12],[139,21,120,17,"_aborted"],[139,29,120,8],[139,31,120,27],[140,0,121,10],[141,0,122,9],[143,0,123,8],[143,17,123,13,"_error"],[143,23,123,8],[143,26,123,22,"error"],[143,31,123,8],[145,0,124,8],[145,17,124,13,"_setReadyState"],[145,31,124,8],[145,32,124,28,"DONE"],[145,36,124,8],[146,0,125,7],[146,9,111,4],[147,0,127,3],[150,30,129,10],[151,0,130,4],[151,13,130,9,"_aborted"],[151,21,130,4],[151,24,130,20],[151,28,130,4],[153,0,132,4],[153,12,132,8],[153,17,132,13,"_readyState"],[153,28,132,8],[153,33,132,29,"EMPTY"],[153,38,132,8],[153,42,132,38],[153,47,132,43,"_readyState"],[153,58,132,38],[153,63,132,59,"DONE"],[153,67,132,4],[153,69,132,65],[154,0,133,6],[154,15,133,11,"_reset"],[154,21,133,6],[156,0,134,6],[156,15,134,11,"_setReadyState"],[156,29,134,6],[156,30,134,26,"DONE"],[156,34,134,6],[157,0,135,5],[159,0,137,4],[159,13,137,9,"_reset"],[159,19,137,4],[160,0,138,3],[163,26,140,31],[164,0,141,4],[164,15,141,11],[164,20,141,16,"_readyState"],[164,31,141,4],[165,0,142,3],[168,26,144,22],[169,0,145,4],[169,15,145,11],[169,20,145,16,"_error"],[169,26,145,4],[170,0,146,3],[173,26,148,30],[174,0,149,4],[174,15,149,11],[174,20,149,16,"_result"],[174,27,149,4],[175,0,150,3],[181,4,37,25,"EventTarget"],[181,30,37,40,"READER_EVENTS"],[181,43,37,25],[181,44],[183,0,37,6,"FileReader"],[183,12],[183,13,38,9,"EMPTY"],[183,18],[183,21,38,17,"EMPTY"],[183,26],[184,0,37,6,"FileReader"],[184,12],[184,13,39,9,"LOADING"],[184,20],[184,23,39,19,"LOADING"],[184,30],[185,0,37,6,"FileReader"],[185,12],[185,13,40,9,"DONE"],[185,17],[185,20,40,16,"DONE"],[185,24],[186,0,153,0,"module"],[186,9,153,7,"exports"],[186,16,153,0],[186,19,153,17,"FileReader"],[186,29,153,0]]},"type":"js/module"}]}