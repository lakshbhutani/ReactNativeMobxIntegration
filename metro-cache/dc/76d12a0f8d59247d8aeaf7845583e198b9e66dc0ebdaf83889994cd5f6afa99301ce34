{"dependencies":[{"name":"../nodes/AnimatedValue","isAsync":false},{"name":"../nodes/AnimatedValueXY","isAsync":false},{"name":"./Animation","isAsync":false},{"name":"../NativeAnimatedHelper","isAsync":false},{"name":"Easing","isAsync":false}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, module, exports, _dependencyMap) {\n  'use strict';\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n  function _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } _setPrototypeOf(subClass.prototype, superClass && superClass.prototype); if (superClass) _setPrototypeOf(subClass, superClass); }\n\n  function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n  function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\n  function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n  function _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\n  function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\n  function _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\n  function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\n  function _getPrototypeOf(o) { _getPrototypeOf = Object.getPrototypeOf || function _getPrototypeOf(o) { return o.__proto__; }; return _getPrototypeOf(o); }\n\n  var AnimatedValue = _$$_REQUIRE(_dependencyMap[0], '../nodes/AnimatedValue');\n\n  var AnimatedValueXY = _$$_REQUIRE(_dependencyMap[1], '../nodes/AnimatedValueXY');\n\n  var Animation = _$$_REQUIRE(_dependencyMap[2], './Animation');\n\n  var _require = _$$_REQUIRE(_dependencyMap[3], '../NativeAnimatedHelper'),\n      shouldUseNativeDriver = _require.shouldUseNativeDriver;\n\n  var _easeInOut;\n\n  function easeInOut() {\n    if (!_easeInOut) {\n      var Easing = _$$_REQUIRE(_dependencyMap[4], 'Easing');\n\n      _easeInOut = Easing.inOut(Easing.ease);\n    }\n\n    return _easeInOut;\n  }\n\n  var TimingAnimation = function (_Animation) {\n    function TimingAnimation(config) {\n      var _this;\n\n      _classCallCheck(this, TimingAnimation);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(TimingAnimation).call(this));\n      _this._toValue = config.toValue;\n      _this._easing = config.easing !== undefined ? config.easing : easeInOut();\n      _this._duration = config.duration !== undefined ? config.duration : 500;\n      _this._delay = config.delay !== undefined ? config.delay : 0;\n      _this.__iterations = config.iterations !== undefined ? config.iterations : 1;\n      _this.__isInteraction = config.isInteraction !== undefined ? config.isInteraction : true;\n      _this._useNativeDriver = shouldUseNativeDriver(config);\n      return _this;\n    }\n\n    _createClass(TimingAnimation, [{\n      key: \"__getNativeAnimationConfig\",\n      value: function __getNativeAnimationConfig() {\n        var frameDuration = 1000.0 / 60.0;\n        var frames = [];\n\n        for (var dt = 0.0; dt < this._duration; dt += frameDuration) {\n          frames.push(this._easing(dt / this._duration));\n        }\n\n        frames.push(this._easing(1));\n        return {\n          type: 'frames',\n          frames: frames,\n          toValue: this._toValue,\n          iterations: this.__iterations\n        };\n      }\n    }, {\n      key: \"start\",\n      value: function start(fromValue, onUpdate, onEnd, previousAnimation, animatedValue) {\n        var _this2 = this;\n\n        this.__active = true;\n        this._fromValue = fromValue;\n        this._onUpdate = onUpdate;\n        this.__onEnd = onEnd;\n\n        var start = function start() {\n          if (_this2._duration === 0 && !_this2._useNativeDriver) {\n            _this2._onUpdate(_this2._toValue);\n\n            _this2.__debouncedOnEnd({\n              finished: true\n            });\n          } else {\n            _this2._startTime = Date.now();\n\n            if (_this2._useNativeDriver) {\n              _this2.__startNativeAnimation(animatedValue);\n            } else {\n              _this2._animationFrame = requestAnimationFrame(_this2.onUpdate.bind(_this2));\n            }\n          }\n        };\n\n        if (this._delay) {\n          this._timeout = setTimeout(start, this._delay);\n        } else {\n          start();\n        }\n      }\n    }, {\n      key: \"onUpdate\",\n      value: function onUpdate() {\n        var now = Date.now();\n\n        if (now >= this._startTime + this._duration) {\n          if (this._duration === 0) {\n            this._onUpdate(this._toValue);\n          } else {\n            this._onUpdate(this._fromValue + this._easing(1) * (this._toValue - this._fromValue));\n          }\n\n          this.__debouncedOnEnd({\n            finished: true\n          });\n\n          return;\n        }\n\n        this._onUpdate(this._fromValue + this._easing((now - this._startTime) / this._duration) * (this._toValue - this._fromValue));\n\n        if (this.__active) {\n          this._animationFrame = requestAnimationFrame(this.onUpdate.bind(this));\n        }\n      }\n    }, {\n      key: \"stop\",\n      value: function stop() {\n        _get(_getPrototypeOf(TimingAnimation.prototype), \"stop\", this).call(this);\n\n        this.__active = false;\n        clearTimeout(this._timeout);\n        global.cancelAnimationFrame(this._animationFrame);\n\n        this.__debouncedOnEnd({\n          finished: false\n        });\n      }\n    }]);\n\n    _inherits(TimingAnimation, _Animation);\n\n    return TimingAnimation;\n  }(Animation);\n\n  module.exports = TimingAnimation;\n});","map":[[2,0,10,0],[24,0,12,0],[24,6,12,6,"AnimatedValue"],[24,22,12,22,"require"],[24,53,12,30],[24,77,12,22],[24,78,12,0],[26,0,13,0],[26,6,13,6,"AnimatedValueXY"],[26,24,13,24,"require"],[26,55,13,32],[26,81,13,24],[26,82,13,0],[28,0,14,0],[28,6,14,6,"Animation"],[28,18,14,18,"require"],[28,49,14,26],[28,62,14,18],[28,63,14,0],[30,17,16,32,"require"],[30,48,16,40],[30,73,16,32],[30,74],[31,6,16,7,"shouldUseNativeDriver"],[31,27],[31,39,16,7,"shouldUseNativeDriver"],[31,60],[33,0,34,0],[33,6,34,4,"_easeInOut"],[33,16,34,0],[35,0,35,0],[35,11,35,9,"easeInOut"],[35,20,35,0],[35,23,35,21],[36,0,36,2],[36,8,36,6],[36,9,36,7,"_easeInOut"],[36,19,36,2],[36,21,36,19],[37,0,37,4],[37,10,37,10,"Easing"],[37,19,37,19,"require"],[37,50,37,27],[37,58,37,19],[37,59,37,4],[39,0,38,4,"_easeInOut"],[39,19,38,17,"Easing"],[39,26,38,24,"inOut"],[39,31,38,17],[39,32,38,30,"Easing"],[39,39,38,37,"ease"],[39,43,38,17],[39,44,38,4],[40,0,39,3],[42,0,40,2],[42,11,40,9,"_easeInOut"],[42,21,40,2],[43,0,41,1],[45,6,43,6,"TimingAnimation"],[45,21],[46,0,55,2],[46,29,55,14,"config"],[46,35,55,2],[46,37,55,51],[47,0,55,51],[49,0,55,51],[51,0,56,4],[52,0,57,4],[52,12,57,9,"_toValue"],[52,20,57,4],[52,23,57,20,"config"],[52,30,57,27,"toValue"],[52,37,57,4],[53,0,58,4],[53,12,58,9,"_easing"],[53,19,58,4],[53,22,58,19,"config"],[53,29,58,26,"easing"],[53,35,58,19],[53,40,58,37,"undefined"],[53,49,58,19],[53,52,58,49,"config"],[53,59,58,56,"easing"],[53,65,58,19],[53,68,58,65,"easeInOut"],[53,79,58,4],[54,0,59,4],[54,12,59,9,"_duration"],[54,21,59,4],[54,24,59,21,"config"],[54,31,59,28,"duration"],[54,39,59,21],[54,44,59,41,"undefined"],[54,53,59,21],[54,56,59,53,"config"],[54,63,59,60,"duration"],[54,71,59,21],[54,74,59,71],[54,77,59,4],[55,0,60,4],[55,12,60,9,"_delay"],[55,18,60,4],[55,21,60,18,"config"],[55,28,60,25,"delay"],[55,33,60,18],[55,38,60,35,"undefined"],[55,47,60,18],[55,50,60,47,"config"],[55,57,60,54,"delay"],[55,62,60,18],[55,65,60,62],[55,66,60,4],[56,0,61,4],[56,12,61,9,"__iterations"],[56,24,61,4],[56,27,61,24,"config"],[56,34,61,31,"iterations"],[56,44,61,24],[56,49,61,46,"undefined"],[56,58,61,24],[56,61,61,58,"config"],[56,68,61,65,"iterations"],[56,78,61,24],[56,81,61,78],[56,82,61,4],[57,0,62,4],[57,12,62,9,"__isInteraction"],[57,27,62,4],[57,30,63,6,"config"],[57,37,63,13,"isInteraction"],[57,50,63,6],[57,55,63,31,"undefined"],[57,64,63,6],[57,67,63,43,"config"],[57,74,63,50,"isInteraction"],[57,87,63,6],[57,90,63,66],[57,94,62,4],[58,0,64,4],[58,12,64,9,"_useNativeDriver"],[58,28,64,4],[58,31,64,28,"shouldUseNativeDriver"],[58,53,64,50,"config"],[58,59,64,28],[58,60,64,4],[59,0,55,51],[60,0,65,3],[64,51,67,36],[65,0,68,4],[65,12,68,10,"frameDuration"],[65,28,68,26],[65,37,68,35],[65,41,68,4],[66,0,69,4],[66,12,69,10,"frames"],[66,21,69,19],[66,23,69,4],[68,0,70,4],[68,13,70,9],[68,17,70,13,"dt"],[68,22,70,18],[68,25,70,4],[68,27,70,23,"dt"],[68,32,70,28],[68,37,70,33,"_duration"],[68,46,70,4],[68,48,70,44,"dt"],[68,54,70,50,"frameDuration"],[68,67,70,4],[68,69,70,65],[69,0,71,6,"frames"],[69,17,71,13,"push"],[69,21,71,6],[69,22,71,18],[69,27,71,23,"_easing"],[69,34,71,18],[69,35,71,31,"dt"],[69,40,71,36],[69,45,71,41,"_duration"],[69,54,71,18],[69,55,71,6],[70,0,72,5],[72,0,73,4,"frames"],[72,15,73,11,"push"],[72,19,73,4],[72,20,73,16],[72,25,73,21,"_easing"],[72,32,73,16],[72,33,73,29],[72,34,73,16],[72,35,73,4],[73,0,74,4],[73,15,74,11],[74,0,75,6,"type"],[74,16,75,12],[74,24,74,11],[75,0,76,6,"frames"],[75,24,74,11],[76,0,77,6,"toValue"],[76,19,77,15],[76,24,77,20,"_toValue"],[76,32,74,11],[77,0,78,6,"iterations"],[77,22,78,18],[77,27,78,23,"__iterations"],[78,0,74,11],[78,9,74,4],[79,0,80,3],[82,28,83,4,"fromValue"],[82,37],[82,39,84,4,"onUpdate"],[82,47],[82,49,85,4,"onEnd"],[82,54],[82,56,86,4,"previousAnimation"],[82,73],[82,75,87,4,"animatedValue"],[82,88],[82,90,88,10],[83,0,88,10],[85,0,89,4],[85,13,89,9,"__active"],[85,21,89,4],[85,24,89,20],[85,28,89,4],[86,0,90,4],[86,13,90,9,"_fromValue"],[86,23,90,4],[86,26,90,22,"fromValue"],[86,35,90,4],[87,0,91,4],[87,13,91,9,"_onUpdate"],[87,22,91,4],[87,25,91,21,"onUpdate"],[87,33,91,4],[88,0,92,4],[88,13,92,9,"__onEnd"],[88,20,92,4],[88,23,92,19,"onEnd"],[88,28,92,4],[90,0,94,4],[90,12,94,10,"start"],[90,20,94,18],[90,29,94,10,"start"],[90,34,94,18],[90,37,94,24],[91,0,98,6],[91,14,98,10],[91,21,98,15,"_duration"],[91,30,98,10],[91,35,98,29],[91,36,98,10],[91,40,98,34],[91,41,98,35],[91,48,98,40,"_useNativeDriver"],[91,64,98,6],[91,66,98,58],[92,0,99,8],[92,19,99,13,"_onUpdate"],[92,28,99,8],[92,29,99,23],[92,36,99,28,"_toValue"],[92,44,99,8],[94,0,100,8],[94,19,100,13,"__debouncedOnEnd"],[94,35,100,8],[94,36,100,30],[95,0,100,31,"finished"],[95,24,100,41],[96,0,100,30],[96,13,100,8],[97,0,101,7],[97,11,98,6],[97,17,101,13],[98,0,102,8],[98,19,102,13,"_startTime"],[98,29,102,8],[98,32,102,26,"Date"],[98,37,102,31,"now"],[98,40,102,26],[98,42,102,8],[100,0,103,8],[100,16,103,12],[100,23,103,17,"_useNativeDriver"],[100,39,103,8],[100,41,103,35],[101,0,104,10],[101,21,104,15,"__startNativeAnimation"],[101,43,104,10],[101,44,104,38,"animatedValue"],[101,57,104,10],[102,0,105,9],[102,13,103,8],[102,19,105,15],[103,0,106,10],[103,21,106,15,"_animationFrame"],[103,36,106,10],[103,39,106,33,"requestAnimationFrame"],[103,61,107,12],[103,68,107,17,"onUpdate"],[103,76,107,12],[103,77,107,26,"bind"],[103,81,107,12],[103,82,107,31],[103,88,107,12],[103,89,106,33],[103,90,106,10],[104,0,109,9],[105,0,110,7],[106,0,111,5],[106,9,94,4],[108,0,112,4],[108,12,112,8],[108,17,112,13,"_delay"],[108,23,112,4],[108,25,112,21],[109,0,113,6],[109,15,113,11,"_timeout"],[109,23,113,6],[109,26,113,22,"setTimeout"],[109,37,113,33,"start"],[109,42,113,22],[109,44,113,40],[109,49,113,45,"_delay"],[109,55,113,22],[109,56,113,6],[110,0,114,5],[110,9,112,4],[110,15,114,11],[111,0,115,6,"start"],[112,0,116,5],[113,0,117,3],[116,33,119,19],[117,0,120,4],[117,12,120,10,"now"],[117,18,120,16,"Date"],[117,23,120,21,"now"],[117,26,120,16],[117,28,120,4],[119,0,121,4],[119,12,121,8,"now"],[119,19,121,15],[119,24,121,20,"_startTime"],[119,34,121,15],[119,37,121,33],[119,42,121,38,"_duration"],[119,51,121,4],[119,53,121,49],[120,0,122,6],[120,14,122,10],[120,19,122,15,"_duration"],[120,28,122,10],[120,33,122,29],[120,34,122,6],[120,36,122,32],[121,0,123,8],[121,17,123,13,"_onUpdate"],[121,26,123,8],[121,27,123,23],[121,32,123,28,"_toValue"],[121,40,123,8],[122,0,124,7],[122,11,122,6],[122,17,124,13],[123,0,125,8],[123,17,125,13,"_onUpdate"],[123,26,125,8],[123,27,126,10],[123,32,126,15,"_fromValue"],[123,42,126,10],[123,45,126,28],[123,50,126,33,"_easing"],[123,57,126,28],[123,58,126,41],[123,59,126,28],[123,64,126,47],[123,69,126,52,"_toValue"],[123,77,126,47],[123,80,126,63],[123,85,126,68,"_fromValue"],[123,95,126,28],[123,96,125,8],[124,0,128,7],[126,0,129,6],[126,15,129,11,"__debouncedOnEnd"],[126,31,129,6],[126,32,129,28],[127,0,129,29,"finished"],[127,22,129,39],[128,0,129,28],[128,11,129,6],[130,0,130,6],[131,0,131,5],[133,0,133,4],[133,13,133,9,"_onUpdate"],[133,22,133,4],[133,23,134,6],[133,28,134,11,"_fromValue"],[133,38,134,6],[133,41,135,8],[133,46,135,13,"_easing"],[133,53,135,8],[133,54,135,21],[133,55,135,22,"now"],[133,61,135,28],[133,66,135,33,"_startTime"],[133,76,135,21],[133,80,135,47],[133,85,135,52,"_duration"],[133,94,135,8],[133,99,136,11],[133,104,136,16,"_toValue"],[133,112,136,11],[133,115,136,27],[133,120,136,32,"_fromValue"],[133,130,135,8],[133,131,133,4],[135,0,138,4],[135,12,138,8],[135,17,138,13,"__active"],[135,25,138,4],[135,27,138,23],[136,0,139,6],[136,15,139,11,"_animationFrame"],[136,30,139,6],[136,33,139,29,"requestAnimationFrame"],[136,55,139,51],[136,60,139,56,"onUpdate"],[136,68,139,51],[136,69,139,65,"bind"],[136,73,139,51],[136,74,139,70],[136,78,139,51],[136,79,139,29],[136,80,139,6],[137,0,140,5],[138,0,141,3],[141,29,143,15],[142,0,144,4],[144,0,145,4],[144,13,145,9,"__active"],[144,21,145,4],[144,24,145,20],[144,29,145,4],[145,0,146,4,"clearTimeout"],[145,21,146,17],[145,26,146,22,"_timeout"],[145,34,146,4],[146,0,147,4,"global"],[146,15,147,11,"cancelAnimationFrame"],[146,35,147,4],[146,36,147,32],[146,41,147,37,"_animationFrame"],[146,56,147,4],[148,0,148,4],[148,13,148,9,"__debouncedOnEnd"],[148,29,148,4],[148,30,148,26],[149,0,148,27,"finished"],[149,20,148,37],[150,0,148,26],[150,9,148,4],[151,0,149,3],[157,4,43,30,"Animation"],[157,13],[159,0,152,0,"module"],[159,9,152,7,"exports"],[159,16,152,0],[159,19,152,17,"TimingAnimation"],[159,34,152,0]]},"type":"js/module"}]}