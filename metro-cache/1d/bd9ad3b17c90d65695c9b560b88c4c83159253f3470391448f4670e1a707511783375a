{"dependencies":[],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  exports.__esModule = true;\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  var CLEARED = null;\n  var nullListeners = {\n    notify: function notify() {}\n  };\n\n  function createListenerCollection() {\n    var current = [];\n    var next = [];\n    return {\n      clear: function clear() {\n        next = CLEARED;\n        current = CLEARED;\n      },\n      notify: function notify() {\n        var listeners = current = next;\n\n        for (var i = 0; i < listeners.length; i++) {\n          listeners[i]();\n        }\n      },\n      get: function get() {\n        return next;\n      },\n      subscribe: function subscribe(listener) {\n        var isSubscribed = true;\n        if (next === current) next = current.slice();\n        next.push(listener);\n        return function unsubscribe() {\n          if (!isSubscribed || current === CLEARED) return;\n          isSubscribed = false;\n          if (next === current) next = current.slice();\n          next.splice(next.indexOf(listener), 1);\n        };\n      }\n    };\n  }\n\n  var Subscription = function () {\n    function Subscription(store, parentSub, onStateChange) {\n      _classCallCheck(this, Subscription);\n\n      this.store = store;\n      this.parentSub = parentSub;\n      this.onStateChange = onStateChange;\n      this.unsubscribe = null;\n      this.listeners = nullListeners;\n    }\n\n    Subscription.prototype.addNestedSub = function addNestedSub(listener) {\n      this.trySubscribe();\n      return this.listeners.subscribe(listener);\n    };\n\n    Subscription.prototype.notifyNestedSubs = function notifyNestedSubs() {\n      this.listeners.notify();\n    };\n\n    Subscription.prototype.isSubscribed = function isSubscribed() {\n      return Boolean(this.unsubscribe);\n    };\n\n    Subscription.prototype.trySubscribe = function trySubscribe() {\n      if (!this.unsubscribe) {\n        this.unsubscribe = this.parentSub ? this.parentSub.addNestedSub(this.onStateChange) : this.store.subscribe(this.onStateChange);\n        this.listeners = createListenerCollection();\n      }\n    };\n\n    Subscription.prototype.tryUnsubscribe = function tryUnsubscribe() {\n      if (this.unsubscribe) {\n        this.unsubscribe();\n        this.unsubscribe = null;\n        this.listeners.clear();\n        this.listeners = nullListeners;\n      }\n    };\n\n    return Subscription;\n  }();\n\n  exports.default = Subscription;\n});","map":[[2,0,1,0],[4,0,3,0,"exports"],[4,10,3,8,"__esModule"],[4,20,3,0],[4,23,3,21],[4,27,3,0],[6,0,5,0],[6,11,5,9,"_classCallCheck"],[6,26,5,0],[6,27,5,25,"instance"],[6,35,5,0],[6,37,5,35,"Constructor"],[6,48,5,0],[6,50,5,48],[7,0,5,50],[7,8,5,54],[7,10,5,56,"instance"],[7,30,5,76,"Constructor"],[7,41,5,54],[7,42,5,50],[7,44,5,90],[8,0,5,92],[8,12,5,98],[8,16,5,102,"TypeError"],[8,25,5,98],[8,26,5,112],[8,61,5,98],[8,62,5,92],[9,0,5,151],[10,0,5,153],[12,0,11,0],[12,6,11,4,"CLEARED"],[12,16,11,14],[12,20,11,0],[13,0,12,0],[13,6,12,4,"nullListeners"],[13,22,12,20],[14,0,13,2,"notify"],[14,12,13,10],[14,21,13,19,"notify"],[14,27,13,10],[14,30,13,28],[14,31,13,30],[15,0,12,20],[15,3,12,0],[17,0,16,0],[17,11,16,9,"createListenerCollection"],[17,35,16,0],[17,38,16,36],[18,0,19,2],[18,8,19,6,"current"],[18,18,19,16],[18,20,19,2],[19,0,20,2],[19,8,20,6,"next"],[19,15,20,13],[19,17,20,2],[20,0,22,2],[20,11,22,9],[21,0,23,4,"clear"],[21,13,23,11],[21,22,23,20,"clear"],[21,27,23,11],[21,30,23,28],[22,0,24,6,"next"],[22,15,24,13,"CLEARED"],[22,22,24,6],[23,0,25,6,"current"],[23,18,25,16,"CLEARED"],[23,25,25,6],[24,0,26,5],[24,7,22,9],[25,0,27,4,"notify"],[25,14,27,12],[25,23,27,21,"notify"],[25,29,27,12],[25,32,27,30],[26,0,28,6],[26,12,28,10,"listeners"],[26,24,28,22,"current"],[26,34,28,32,"next"],[26,38,28,6],[28,0,29,6],[28,13,29,11],[28,17,29,15,"i"],[28,21,29,19],[28,22,29,6],[28,24,29,22,"i"],[28,28,29,26,"listeners"],[28,38,29,36,"length"],[28,44,29,6],[28,46,29,44,"i"],[28,49,29,6],[28,51,29,49],[29,0,30,8,"listeners"],[29,20,30,18,"i"],[29,21,30,8],[30,0,31,7],[31,0,32,5],[31,7,22,9],[32,0,33,4,"get"],[32,11,33,9],[32,20,33,18,"get"],[32,23,33,9],[32,26,33,24],[33,0,34,6],[33,15,34,13,"next"],[33,19,34,6],[34,0,35,5],[34,7,22,9],[35,0,36,4,"subscribe"],[35,17,36,15],[35,26,36,24,"subscribe"],[35,35,36,15],[35,36,36,34,"listener"],[35,44,36,15],[35,46,36,44],[36,0,37,6],[36,12,37,10,"isSubscribed"],[36,27,37,25],[36,31,37,6],[37,0,38,6],[37,12,38,10,"next"],[37,21,38,19,"current"],[37,28,38,6],[37,30,38,28,"next"],[37,37,38,35,"current"],[37,45,38,43,"slice"],[37,50,38,35],[37,52,38,28],[38,0,39,6,"next"],[38,13,39,11,"push"],[38,17,39,6],[38,18,39,16,"listener"],[38,26,39,6],[39,0,41,6],[39,15,41,13],[39,24,41,22,"unsubscribe"],[39,35,41,13],[39,38,41,36],[40,0,42,8],[40,14,42,12],[40,15,42,13,"isSubscribed"],[40,27,42,12],[40,31,42,29,"current"],[40,43,42,41,"CLEARED"],[40,50,42,8],[40,52,42,50],[41,0,43,8,"isSubscribed"],[41,25,43,23],[41,30,43,8],[42,0,45,8],[42,14,45,12,"next"],[42,23,45,21,"current"],[42,30,45,8],[42,32,45,30,"next"],[42,39,45,37,"current"],[42,47,45,45,"slice"],[42,52,45,37],[42,54,45,30],[43,0,46,8,"next"],[43,15,46,13,"splice"],[43,21,46,8],[43,22,46,20,"next"],[43,27,46,25,"indexOf"],[43,34,46,20],[43,35,46,33,"listener"],[43,43,46,20],[43,44,46,8],[43,46,46,44],[43,47,46,8],[44,0,47,7],[44,9,41,6],[45,0,48,5],[46,0,22,9],[46,5,22,2],[47,0,50,1],[49,0,52,0],[49,6,52,4,"Subscription"],[49,21,52,19],[49,33,52,31],[50,0,53,2],[50,13,53,11,"Subscription"],[50,25,53,2],[50,26,53,24,"store"],[50,31,53,2],[50,33,53,31,"parentSub"],[50,42,53,2],[50,44,53,42,"onStateChange"],[50,57,53,2],[50,59,53,57],[51,0,54,4,"_classCallCheck"],[51,22,54,20],[51,26,54,4],[51,28,54,26,"Subscription"],[51,40,54,4],[53,0,56,4],[53,11,56,9,"store"],[53,16,56,4],[53,19,56,17,"store"],[53,24,56,4],[54,0,57,4],[54,11,57,9,"parentSub"],[54,20,57,4],[54,23,57,21,"parentSub"],[54,32,57,4],[55,0,58,4],[55,11,58,9,"onStateChange"],[55,24,58,4],[55,27,58,25,"onStateChange"],[55,40,58,4],[56,0,59,4],[56,11,59,9,"unsubscribe"],[56,22,59,4],[56,25,59,23],[56,29,59,4],[57,0,60,4],[57,11,60,9,"listeners"],[57,20,60,4],[57,23,60,21,"nullListeners"],[57,36,60,4],[58,0,61,3],[60,0,63,2,"Subscription"],[60,17,63,15,"prototype"],[60,26,63,2],[60,27,63,25,"addNestedSub"],[60,39,63,2],[60,42,63,40],[60,51,63,49,"addNestedSub"],[60,63,63,40],[60,64,63,62,"listener"],[60,72,63,40],[60,74,63,72],[61,0,64,4],[61,11,64,9,"trySubscribe"],[61,23,64,4],[62,0,65,4],[62,13,65,11],[62,18,65,16,"listeners"],[62,27,65,11],[62,28,65,26,"subscribe"],[62,37,65,11],[62,38,65,36,"listener"],[62,46,65,11],[62,47,65,4],[63,0,66,3],[63,5,63,2],[65,0,68,2,"Subscription"],[65,17,68,15,"prototype"],[65,26,68,2],[65,27,68,25,"notifyNestedSubs"],[65,43,68,2],[65,46,68,44],[65,55,68,53,"notifyNestedSubs"],[65,71,68,44],[65,74,68,72],[66,0,69,4],[66,11,69,9,"listeners"],[66,20,69,4],[66,21,69,19,"notify"],[66,27,69,4],[67,0,70,3],[67,5,68,2],[69,0,72,2,"Subscription"],[69,17,72,15,"prototype"],[69,26,72,2],[69,27,72,25,"isSubscribed"],[69,39,72,2],[69,42,72,40],[69,51,72,49,"isSubscribed"],[69,63,72,40],[69,66,72,64],[70,0,73,4],[70,13,73,11,"Boolean"],[70,21,73,19],[70,26,73,24,"unsubscribe"],[70,37,73,11],[70,38,73,4],[71,0,74,3],[71,5,72,2],[73,0,76,2,"Subscription"],[73,17,76,15,"prototype"],[73,26,76,2],[73,27,76,25,"trySubscribe"],[73,39,76,2],[73,42,76,40],[73,51,76,49,"trySubscribe"],[73,63,76,40],[73,66,76,64],[74,0,77,4],[74,10,77,8],[74,11,77,9],[74,16,77,14,"unsubscribe"],[74,27,77,4],[74,29,77,27],[75,0,78,6],[75,13,78,11,"unsubscribe"],[75,24,78,6],[75,27,78,25],[75,32,78,30,"parentSub"],[75,41,78,25],[75,44,78,42],[75,49,78,47,"parentSub"],[75,58,78,42],[75,59,78,57,"addNestedSub"],[75,71,78,42],[75,72,78,70],[75,77,78,75,"onStateChange"],[75,90,78,42],[75,91,78,25],[75,94,78,92],[75,99,78,97,"store"],[75,104,78,92],[75,105,78,103,"subscribe"],[75,114,78,92],[75,115,78,113],[75,120,78,118,"onStateChange"],[75,133,78,92],[75,134,78,6],[76,0,80,6],[76,13,80,11,"listeners"],[76,22,80,6],[76,25,80,23,"createListenerCollection"],[76,51,80,6],[77,0,81,5],[78,0,82,3],[78,5,76,2],[80,0,84,2,"Subscription"],[80,17,84,15,"prototype"],[80,26,84,2],[80,27,84,25,"tryUnsubscribe"],[80,41,84,2],[80,44,84,42],[80,53,84,51,"tryUnsubscribe"],[80,67,84,42],[80,70,84,68],[81,0,85,4],[81,10,85,8],[81,15,85,13,"unsubscribe"],[81,26,85,4],[81,28,85,26],[82,0,86,6],[82,13,86,11,"unsubscribe"],[82,24,86,6],[83,0,87,6],[83,13,87,11,"unsubscribe"],[83,24,87,6],[83,27,87,25],[83,31,87,6],[84,0,88,6],[84,13,88,11,"listeners"],[84,22,88,6],[84,23,88,21,"clear"],[84,28,88,6],[85,0,89,6],[85,13,89,11,"listeners"],[85,22,89,6],[85,25,89,23,"nullListeners"],[85,38,89,6],[86,0,90,5],[87,0,91,3],[87,5,84,2],[89,0,93,2],[89,11,93,9,"Subscription"],[89,23,93,2],[90,0,94,1],[90,3,52,19],[90,5,52,0],[92,0,96,0,"exports"],[92,10,96,8,"default"],[92,17,96,0],[92,20,96,18,"Subscription"],[92,32,96,0]]},"type":"js/module"}]}